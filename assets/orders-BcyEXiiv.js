import{a1 as y,al as V,G as h,c as g,S as n,U as v,a4 as s,L as o,_ as d,Y as l,X as u,a7 as x,O as b,ar as w}from"./index-O_OIJZ_k.js";import{V as p,a as A,b as m}from"./route-block-XNcMZbMm.js";import{V as D}from"./VDivider-CsSZj-Rn.js";import{V as B}from"./VDataTable-C0xNvz0u.js";import{V as O}from"./VContainer-BCZ9p7b9.js";import"./VPagination-C7GU0Q3Z.js";import"./VList-B5bKv3Qo.js";import"./VMenu-CrbXM0m4.js";const S={class:"text-center"},C={__name:"orders",setup(L){const{apiAuth:_}=w(),{t:a}=y(),f=V(),i=h([]),k=g(()=>[{title:"ID",key:"_id"},{title:a("order.account"),key:"user.account"},{title:a("order.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:a("order.cart"),key:"cart"},{title:a("order.price"),key:"price",value:t=>t.cart.reduce((r,e)=>r+e.product.price*e.quantity,0)}]);return(async()=>{var t,r;try{const{data:e}=await _.get("/order/all");i.value=e.result}catch(e){console.log(e),f({text:a("api."+(((r=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:r.message)||"unknownError")),snackbarProps:{color:"red"}})}})(),(t,r)=>(n(),v(O,null,{default:s(()=>[o(A,null,{default:s(()=>[o(p,{cols:"12"},{default:s(()=>[d("h1",S,l(t.$t("nav.adminOrders")),1)]),_:1}),o(D),o(p,{cols:"12"},{default:s(()=>[o(B,{items:i.value,headers:k.value},{"item.cart":s(e=>[d("ul",null,[(n(!0),u(b,null,x(e.item.cart,c=>(n(),u("li",{key:c._id},l(c.product.name)+" x "+l(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof m=="function"&&m(C);export{C as default};
